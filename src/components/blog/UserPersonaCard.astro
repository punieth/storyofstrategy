---
interface Props {
  name: string;
  age?: string;
  subtitle?: string;
  truths?: string[];   // two short lines max
  thought?: string;    // one “real thought” line
  img?: string;        // optional avatar url
  tone?: "violet" | "lime" | "blue" | "peach" | "neutral";
}
const {
  name, age = "", subtitle = "", truths = [], thought = "", img = "",
  tone = "violet",
} = Astro.props;

const tints = {
  violet: "#f3e8ff",
  lime:   "#f5ffcf",
  blue:   "#e7f2ff",
  peach:  "#fff1e7",
  neutral:"#fff",
} as const;
---

<section class="persona" style={`--tint:${tints[tone]}`}>
  <div class="col avatar">
    {img
      ? <img src={img} alt={name} width="96" height="96" class="photo" />
      : <div class="stub">{name[0]?.toUpperCase()}</div>}
    <div class="meta">
      <div class="name">{name}{age && `, ${age}`}</div>
      {subtitle && <div class="sub">{subtitle}</div>}
    </div>
  </div>
  <div class="col facts">
    {truths.map((t) => <div class="row">• {t}</div>)}
    {thought && <div class="row emph">Her real thought: “{thought}”</div>}
  </div>
</section>

<style>
  .persona{
    background:var(--tint); border:4px solid #000; border-radius:12px;
    padding:1rem; box-shadow:8px 8px 0 #000; display:grid; gap:12px;
    grid-template-columns: 1fr;
  }
  @media (min-width:768px){ .persona{ grid-template-columns: 280px 1fr; } }

  .col{ display:flex; gap:12px; align-items:center; }
  .avatar{ align-items:flex-start; }
  .photo{ border:4px solid #000; border-radius:999px; width:96px; height:96px; object-fit:cover; background:#fff; }
  .stub{
    width:96px; height:96px; display:grid; place-items:center; border:4px solid #000;
    border-radius:999px; font-weight:800; font-size:1.6rem; background:#fff;
  }
  .name{ font-weight:800; font-size:1.1rem; }
  .sub{ color:#222; opacity:.85; font-size:.95rem; }
  .facts{ flex-direction:column; align-items:flex-start; }
  .row{ background:#fff; border:3px solid #000; border-radius:10px; padding:.5rem .75rem; box-shadow:5px 5px 0 #000; width:100%; }
  .row + .row{ margin-top:.5rem; }
  .emph{ background:#000; color:#fff; }
</style>