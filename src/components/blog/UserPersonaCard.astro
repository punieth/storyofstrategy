---
type Elev = "none"|"sm"|"md";
type Tone = "violet"|"lime"|"blue"|"peach"|"neutral";

interface Props {
  name: string; age?: string; subtitle?: string;
  truths?: string[]; thought?: string; img?: string;
  tone?: Tone; elev?: Elev;
  kicker?: string; // NEW
}
const {
  name, age="", subtitle="", truths=[],
  thought="", img="", tone="violet", elev="md",
  kicker = "Persona" // default label
} = Astro.props as Props;

const tints: Record<Tone,string> = {
  violet:"#f3e8ff", lime:"#f5ffcf", blue:"#e7f2ff", peach:"#fff1e7", neutral:"#fff"
};
---
<section class={`nb-persona elev-${elev}`} style={`--tint:${tints[tone]}`}>
  <span class="nb-kicker">{kicker}</span>
  <div class="col avatar">
    {img
      ? <img src={img} alt={name} width="96" height="96" class="photo" />
      : <div class="stub">{name[0]?.toUpperCase()}</div>}
    <div class="meta">
      <div class="name">{name}{age && `, ${age}`}</div>
      {subtitle && <div class="sub">{subtitle}</div>}
    </div>
  </div>
  <div class="col facts">
    {truths.map((t)=> <div class="row">• {t}</div>)}
    {thought && <div class="row emph">Her real thought: “{thought}”</div>}
  </div>
</section>

<style>
.nb-persona{
  position:relative;
  background:var(--tint); border:4px solid #000; border-radius:12px;
  padding:1.25rem 1rem 1rem; display:grid; gap:12px; grid-template-columns:1fr;
}
@media (min-width:768px){ .nb-persona{ grid-template-columns:280px 1fr; } }

.nb-kicker{
  position:absolute; top:-.6rem; left:1rem;
  display:inline-block; background:#000; color:#fff; border:2px solid #000;
  padding:2px 8px; font-size:.7rem; letter-spacing:.06em; text-transform:uppercase;
}

.col{ display:flex; gap:12px; align-items:center; }
.avatar{ align-items:flex-start; }
.photo{ border:4px solid #000; border-radius:999px; width:96px; height:96px; object-fit:cover; background:#fff; }
.stub{ width:96px; height:96px; display:grid; place-items:center; border:4px solid #000; border-radius:999px; font-weight:800; font-size:1.6rem; background:#fff; }
.name{ font-weight:800; font-size:1.1rem; }
.sub{ color:#222; opacity:.85; font-size:.95rem; }
.facts{ flex-direction:column; align-items:flex-start; }
.row{ background:#fff; border:3px solid #000; border-radius:10px; padding:.5rem .75rem; box-shadow:6px 6px 0 #000; width:100%; }
.row + .row{ margin-top:.5rem; }
.emph{ background:#000; color:#fff; }
.elev-none{ box-shadow:none; }
.elev-sm{ box-shadow:6px 6px 0 #000; }
.elev-md{ box-shadow:8px 8px 0 #000; }
</style>