---
type Tone = "blue"|"neutral";
type Elev = "none"|"sm"|"md";

interface Props {
  primaryLabel: string; primaryTarget: string;
  guardrail?: string; leading?: string[];
  tone?: Tone; elev?: Elev;
}
const { primaryLabel, primaryTarget, guardrail="", leading=[], tone="blue", elev="sm" } = Astro.props as Props;
const tint = tone==="blue" ? "#e7f2ff" : "#fff";
---
<section class={`nb-metrics elev-${elev}`} style={`--tint:${tint}`}>
  <span class="nb-kicker">Metrics</span>
  <div class="nb-grid">
    <div class="nb-primary">
      <div class="nb-lab">{primaryLabel}</div>
      <div class="nb-val">{primaryTarget}</div>
    </div>
    <div class="nb-side">
      {guardrail && <div class="nb-item"><b>Guardrail:</b> {guardrail}</div>}
      {leading.length>0 && (
        <div class="nb-item"><b>Leading:</b>
          <ul>{leading.map((l)=><li>{l}</li>)}</ul>
        </div>
      )}
    </div>
  </div>
</section>

<style>
.nb-metrics{background:var(--tint);border:4px solid #000;border-radius:12px;padding:1rem;}
.nb-kicker{display:inline-block;background:#000;color:#fff;border:2px solid #000;padding:2px 8px;font-size:.7rem;text-transform:uppercase;letter-spacing:.06em;}
.nb-grid{display:grid;gap:12px;grid-template-columns:1fr;margin-top:.5rem;}
@media (min-width:768px){.nb-grid{grid-template-columns:1fr 1fr;}}
.nb-primary{background:#fff;border:4px solid #000;border-radius:12px;padding:.75rem;}
.nb-lab{font-weight:700;}
.nb-val{font-weight:800;font-size:clamp(1.3rem,2.6vw,1.8rem);}
.nb-side .nb-item{background:#fff;border:3px solid #000;border-radius:10px;padding:.5rem .75rem;}
.nb-side .nb-item+.nb-item{margin-top:.5rem;}
.nb-side ul{padding-left:1.1rem;margin-top:.25rem;}
.elev-none{box-shadow:none;}
.elev-sm{box-shadow:6px 6px 0 #000;}
.elev-md{box-shadow:8px 8px 0 #000;}
</style>